{"version":3,"sources":["webpack:///./node_modules/react-disqus-comments/build/main.js","webpack:///./node_modules/react-disqus-comments/build/components/DisqusThread.js","webpack:///./src/components/Outline/Outline.jsx","webpack:///./src/components/Outline/index.js","webpack:///./src/components/Gallery/Gallery.jsx","webpack:///./src/components/Gallery/index.js","webpack:///./src/components/Affix/Affix.jsx","webpack:///./src/components/Affix/index.js","webpack:///./src/templates/post/page.js"],"names":["module","exports","Object","defineProperty","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react2","_interopRequireDefault","_propTypes2","obj","__esModule","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","DISQUS_CONFIG","__disqusAdded","copyProps","context","onNewComment","language","rest","keys","indexOf","_objectWithoutProperties","prop","page","callbacks","DisqusThread","_React$Component","this","__proto__","getPrototypeOf","apply","subClass","superClass","create","constructor","setPrototypeOf","_inherits","loadDisqus","nextProps","nextState","identifier","_this2","reduce","memo","some","config","_defineProperty","createElement","id","child","disqus","document","parent","getElementsByTagName","async","type","src","shortname","appendChild","_this3","forEach","DISQUS","reset","reload","url","replace","window","disqus_config","addDisqusScript","Component","displayName","propTypes","string","isRequired","title","category_id","func","defaultProps","location","href","Outline","_handleResize","setState","maxHeight","_getMaxHeight","innerHeight","_handleGotoAnchor","hash","toLowerCase","state","componentDidMount","on","componentWillUnmount","off","render","list","positionFixed","namespace","placement","reference","icon","className","style","overflow","map","depth","data-depth","onMouseDown","PureComponent","$root","getElementById","Gallery","load","$imgs","images","$img","index","e","_handleImageClick","push","$imgFuncs","destroy","preventDefault","scrollY","pageYOffset","windowW","innerWidth","windowH","offset","getOffset","entering","top","left","width","height","entered","imgW","PADDING","imgH","show","curr","_handleExitingGallery","waiting","addStyle","opacity","exiting","exited","_handleEnter","body","_handleExited","_renderPortal","image","stateMap","maskMap","visibility","Transition","mountOnEnter","unmountOnExit","in","timeout","onEnter","onExited","onClick","alt","ReactDOM","createPortal","Affix","useState","setShow","useEffect","handleScroll","animation","requestAnimationFramePolyfill","cls","scrollTop","PostBigInfo","fields","excerpt","timeToRead","frontmatter","reverse","to","slug","fluid","pick","PostPage","_renderComments","post","data","ThemeContext","Consumer","ref","$disqus","process","setTimeout","current","$content","React","createRef","$gallery","Array","from","prevPost","nextPost","tags","series","headings","Layout","autoHidden","snakke","name","tag","dangerouslySetInnerHTML","__html","data-size","Post","query"],"mappings":"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","file":"component---src-templates-post-page-js-753bb05bf18f6ae04c87.js","sourcesContent":["'use strict';\n\nmodule.exports = require('./components/DisqusThread');","'use strict';\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.array.some\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.array.reduce\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nvar DISQUS_CONFIG = ['shortname', 'identifier', 'title', 'url', 'category_id', 'onNewComment', 'language'];\nvar __disqusAdded = false;\n\nfunction copyProps(context, props) {\n  var onNewComment = props.onNewComment,\n      language = props.language,\n      rest = _objectWithoutProperties(props, ['onNewComment', 'language']);\n\n  for (var prop in rest) {\n    context.page[prop] = rest[prop];\n  } // Setting the language - if none is provided, the default one is used\n\n\n  context.language = language;\n\n  if (onNewComment) {\n    context.callbacks = {\n      onNewComment: [onNewComment]\n    };\n  }\n}\n\nvar DisqusThread = function (_React$Component) {\n  _inherits(DisqusThread, _React$Component);\n\n  function DisqusThread() {\n    _classCallCheck(this, DisqusThread);\n\n    return _possibleConstructorReturn(this, (DisqusThread.__proto__ || Object.getPrototypeOf(DisqusThread)).apply(this, arguments));\n  }\n\n  _createClass(DisqusThread, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.loadDisqus();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.loadDisqus();\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return nextProps.identifier !== this.props.identifier;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var props = Object.keys(this.props).reduce(function (memo, key) {\n        return DISQUS_CONFIG.some(function (config) {\n          return config === key;\n        }) ? memo : _extends({}, memo, _defineProperty({}, key, _this2.props[key]));\n      }, {});\n      return _react2[\"default\"].createElement('div', props, _react2[\"default\"].createElement('div', {\n        id: 'disqus_thread'\n      }));\n    }\n  }, {\n    key: 'addDisqusScript',\n    value: function addDisqusScript() {\n      if (__disqusAdded) {\n        return;\n      }\n\n      var child = this.disqus = document.createElement('script');\n      var parent = document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0];\n      child.async = true;\n      child.type = 'text/javascript';\n      child.src = '//' + this.props.shortname + '.disqus.com/embed.js';\n      parent.appendChild(child);\n      __disqusAdded = true;\n    }\n  }, {\n    key: 'loadDisqus',\n    value: function loadDisqus() {\n      var _this3 = this;\n\n      var props = {}; // Extract Disqus props that were supplied to this component\n\n      DISQUS_CONFIG.forEach(function (prop) {\n        // prop \"shortname\" is only necessary for loading the script, not for the config itself\n        if (prop !== 'shortname' && !!_this3.props[prop]) {\n          props[prop] = _this3.props[prop];\n        }\n      }); // If Disqus has already been added, reset it\n\n      if (typeof DISQUS !== 'undefined') {\n        DISQUS.reset({\n          reload: true,\n          config: function config() {\n            copyProps(this, props); // Disqus needs hashbang URL, see https://help.disqus.com/customer/portal/articles/472107\n\n            this.page.url = this.page.url.replace(/#/, '') + '#!newthread';\n          }\n        });\n      } else {\n        // Otherwise add Disqus to the page\n        window.disqus_config = function () {\n          copyProps(this, props);\n        };\n\n        this.addDisqusScript();\n      }\n    }\n  }]);\n\n  return DisqusThread;\n}(_react2[\"default\"].Component);\n\nDisqusThread.displayName = 'DisqusThread';\nDisqusThread.propTypes = {\n  id: _propTypes2[\"default\"].string,\n\n  /**\n   * `shortname` tells the Disqus service your forum's shortname,\n   * which is the unique identifier for your website as registered\n   * on Disqus. If undefined , the Disqus embed will not load.\n   */\n  shortname: _propTypes2[\"default\"].string.isRequired,\n\n  /**\n   * `identifier` tells the Disqus service how to identify the\n   * current page. When the Disqus embed is loaded, the identifier\n   * is used to look up the correct thread. If disqus_identifier\n   * is undefined, the page's URL will be used. The URL can be\n   * unreliable, such as when renaming an article slug or changing\n   * domains, so we recommend using your own unique way of\n   * identifying a thread.\n   */\n  identifier: _propTypes2[\"default\"].string,\n\n  /**\n   * `title` tells the Disqus service the title of the current page.\n   * This is used when creating the thread on Disqus for the first time.\n   * If undefined, Disqus will use the <title> attribute of the page.\n   * If that attribute could not be used, Disqus will use the URL of the page.\n   */\n  title: _propTypes2[\"default\"].string,\n\n  /**\n   * `url` tells the Disqus service the URL of the current page.\n   * If undefined, Disqus will take the window.location.href.\n   * This URL is used to look up or create a thread if disqus_identifier\n   * is undefined. In addition, this URL is always saved when a thread is\n   * being created so that Disqus knows what page a thread belongs to.\n   */\n  url: _propTypes2[\"default\"].string,\n\n  /**\n   * `category_id` tells the Disqus service the category to be used for\n   * the current page. This is used when creating the thread on Disqus\n   * for the first time.\n   */\n  category_id: _propTypes2[\"default\"].string,\n\n  /**\n   * `onNewComment` function accepts one parameter `comment` which is a\n   * JavaScript object with comment `id` and `text`. This allows you to track\n   * user comments and replies and run a script after a comment is posted.\n   */\n  onNewComment: _propTypes2[\"default\"].func,\n\n  /**\n   * `language` tells the Disqus service which language should be used.\n   * Please refer to https://www.transifex.com/disqus/disqus/ on which languages can be used\n   * If undefined, English is used as default one\n   */\n  language: _propTypes2[\"default\"].string\n};\nDisqusThread.defaultProps = {\n  url: typeof window === 'undefined' ? null : window.location.href\n};\nexports[\"default\"] = DisqusThread;","import React, { PureComponent } from 'react';\nimport { on, off } from 'dom-lib';\n\nimport { Icon, Popover } from 'components/common';\n\nimport './style.less';\n\nclass Outline extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      maxHeight: this._getMaxHeight(),\n    };\n  }\n\n  componentDidMount() {\n    on(window, 'resize', this._handleResize);\n  }\n\n  componentWillUnmount() {\n    off(window, 'resize', this._handleResize);\n  }\n\n  _handleResize = () => {\n    this.setState({ maxHeight: this._getMaxHeight() });\n  };\n\n  _getMaxHeight = () => {\n    return typeof window !== 'undefined' ? window.innerHeight - 200 : 200;\n  };\n\n  _handleGotoAnchor = ({ value }) => {\n    window.location.hash = `#${value\n      .toLowerCase()\n      .replace(/\\s+/g, '-')\n      .replace(/\\./g, '')}`;\n  };\n\n  render() {\n    const { maxHeight } = this.state;\n    const { list } = this.props;\n\n    if (maxHeight < 0) return null;\n\n    return (\n      <Popover\n        positionFixed\n        namespace=\"outline\"\n        placement=\"top-start\"\n        reference={<Icon icon=\"menu\" />}\n      >\n        <div\n          className=\"outline__anchor\"\n          style={{ maxHeight, overflow: 'auto' }}\n        >\n          <div className=\"outline__anchor-title\">Outline</div>\n          <div className=\"outline__anchor-list\">\n            {list.map(({ value, depth }) => (\n              <div\n                key={`${depth}-${value}`}\n                className=\"outline__anchor-item\"\n                data-depth={depth}\n                onMouseDown={() => this._handleGotoAnchor({ depth, value })}\n              >\n                {value}\n              </div>\n            ))}\n          </div>\n        </div>\n      </Popover>\n    );\n  }\n}\n\nOutline.propTypes = {};\n\nOutline.defaultProps = {};\n\nexport default Outline;\n","import Outline from './Outline.jsx';\n\nexport default Outline;\n","import React, { PureComponent } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Transition } from 'react-transition-group';\nimport { on, off, getOffset, addStyle } from 'dom-lib';\n\nimport './style.less';\n\nconst PADDING = 5;\nlet $root;\n\nif (typeof window !== `undefined`) {\n  $root = document.getElementById('gallery-root');\n}\n\nclass Gallery extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      show: false,\n      curr: 0,\n      images: [],\n\n      entering: {},\n      entered: {},\n      exiting: {},\n      exited: {},\n    };\n\n    this.$imgs = [];\n    this.$imgFuncs = [];\n  }\n\n  load = $imgs => {\n    const images = [];\n\n    this.$imgs = $imgs;\n\n    $imgs.forEach(($img, index) => {\n      const func = e => this._handleImageClick(e, $img, index);\n\n      images.push($img.src);\n\n      this.$imgFuncs.push(func);\n\n      on($img, 'click', func);\n    });\n\n    this.setState({ images });\n  };\n\n  destroy = () => {\n    this.$imgs.forEach(($img, index) => {\n      off($img, 'click', this.$imgFuncs[index]);\n    });\n  };\n\n  _handleImageClick = (e, $img, index) => {\n    e.preventDefault();\n\n    const scrollY = window.scrollY || window.pageYOffset;\n    const windowW = window.innerWidth;\n    const windowH = window.innerHeight;\n    const offset = getOffset($img);\n    const entering = {\n      top: offset.top - scrollY,\n      left: offset.left,\n      width: offset.width,\n      height: offset.height,\n    };\n    let entered = {};\n\n    if (offset.width / offset.height > windowW / windowH) {\n      const imgW = windowW - PADDING * 2;\n      const imgH = (imgW * offset.height) / offset.width;\n\n      entered = {\n        top: (windowH - imgH) / 2,\n        left: PADDING,\n        width: imgW,\n        height: imgH,\n      };\n    } else {\n      const imgH = windowH - PADDING * 2;\n      const imgW = (offset.width / offset.height) * imgH;\n\n      entered = {\n        top: PADDING,\n        left: (windowW - imgW) / 2,\n        width: imgW,\n        height: imgH,\n      };\n    }\n\n    // addStyle($img, { opacity: 0 });\n\n    this.setState({\n      show: true,\n      curr: index,\n      entering,\n      entered,\n    });\n  };\n\n  _handleExitingGallery = e => {\n    const { curr, show } = this.state;\n\n    e.preventDefault();\n\n    if (!show) return;\n    if (this.waiting) return;\n\n    this.waiting = true;\n\n    const $img = this.$imgs[curr];\n    const scrollY = window.scrollY || window.pageYOffset;\n    const offset = getOffset($img);\n\n    addStyle($img, { opacity: 1 });\n\n    this.setState(\n      {\n        show: false,\n        exiting: {\n          top: offset.top - scrollY,\n          left: offset.left,\n          width: offset.width,\n          height: offset.height,\n        },\n        exited: {},\n      },\n      () => (this.waiting = false)\n    );\n  };\n\n  _handleEnter = () => {\n    addStyle(document.body, { overflow: 'hidden' });\n  };\n\n  _handleExited = () => {\n    addStyle(document.body, { overflow: 'auto' });\n  };\n\n  _renderPortal = () => {\n    const {\n      images,\n      curr,\n      show,\n      entering,\n      entered,\n      exiting,\n      exited,\n    } = this.state;\n    const image = images[curr];\n    const stateMap = {\n      entering,\n      entered,\n      exiting,\n      exited,\n    };\n    const maskMap = {\n      entering: {\n        visibility: 'hidden',\n        opacity: 0,\n      },\n      entered: {\n        visibility: 'visible',\n        opacity: 1,\n      },\n      exiting: {\n        visibility: 'hidden',\n        opacity: 0,\n      },\n      exited: {},\n    };\n\n    return (\n      <Transition\n        mountOnEnter\n        unmountOnExit\n        in={show}\n        timeout={300}\n        onEnter={this._handleEnter}\n        onExited={this._handleExited}\n      >\n        {state => (\n          <div className=\"gallery\" onClick={this._handleExitingGallery}>\n            <div className=\"gallery__mask\" style={maskMap[state]} />\n            <img\n              className=\"gallery__preview\"\n              style={{ ...stateMap[state], ...maskMap[state] }}\n              src={image}\n              alt=\"preview\"\n            />\n          </div>\n        )}\n      </Transition>\n    );\n  };\n\n  render() {\n    if (!$root) return null;\n\n    return ReactDOM.createPortal(this._renderPortal(), $root);\n  }\n}\n\nGallery.propTypes = {};\nGallery.defaultProps = {};\n\nexport default Gallery;\n","import Gallery from './Gallery.jsx';\n\nexport default Gallery;\n","import React, { useState, useEffect } from 'react';\nimport { on, off, animation, scrollTop } from 'dom-lib';\nimport cls from 'classnames';\n\nimport { Icon } from 'components/common';\n\nimport './style.less';\n\nlet waiting = false;\n\nexport default function Affix() {\n  const [show, setShow] = useState(false);\n\n  useEffect(() => {\n    function handleScroll() {\n      if (waiting) return;\n\n      waiting = true;\n\n      animation.requestAnimationFramePolyfill(() => {\n        const scrollY = window.scrollY || window.pageYOffset;\n        const boundary = 0;\n\n        if (scrollY > boundary && !show) {\n          setShow(true);\n          waiting = false;\n\n          return;\n        }\n\n        if (scrollY <= boundary && show) {\n          setShow(false);\n          waiting = false;\n\n          return;\n        }\n\n        waiting = false;\n      });\n    }\n\n    on(window, 'scroll', handleScroll);\n\n    return () => {\n      off(window, 'scroll', handleScroll);\n    };\n  });\n\n  return (\n    <div\n      className={cls(['affix', show && 'affix--show'])}\n      onClick={() => scrollTop(window, 0)}\n    >\n      <Icon icon=\"arrow-up\" />\n    </div>\n  );\n}\n","import Affix from './Affix.jsx';\n\nexport default Affix;\n","import React, { PureComponent } from 'react';\nimport ReactDisqusComments from 'react-disqus-comments';\nimport { Link, graphql } from 'gatsby';\nimport Img from 'gatsby-image';\nimport cls from 'classnames';\nimport pick from 'utils/pick';\n\nimport Layout from 'components/Layout';\nimport Outline from 'components/Outline';\nimport Gallery from 'components/Gallery';\nimport Affix from 'components/Affix';\nimport ThemeContext from 'components/ThemeContext';\nimport { PostBig } from 'components/Post';\n\nimport 'katex/dist/katex.min.css';\nimport './style.less';\n\nfunction PostBigInfo({\n  id,\n  fields,\n  excerpt,\n  timeToRead,\n  frontmatter,\n  title,\n  reverse,\n}) {\n  return (\n    <div className={cls(['post-page__big-info', reverse && 'reverse'])}>\n      <div className=\"post-page__big-info__cover\">\n        <Link to={fields.slug}>\n          <Img fluid={pick(frontmatter, 'cover.childImageSharp.fluid')} />\n        </Link>\n      </div>\n      <div className=\"post-page__big-info__content\">\n        <div className=\"post-page__big-info__link\">\n          <Link to={fields.slug}>{title}</Link>\n        </div>\n        <Link to={fields.slug}>\n          <div className=\"post-page__big-info__title\">{frontmatter.title}</div>\n          <div className=\"post-page__big-info__desc\">{excerpt}</div>\n        </Link>\n        <div className=\"post-page__big-info__footer\">\n          <div className=\"nickname\">\n            <Link to={`/author/${pick(frontmatter, 'author.id')}`}>\n              {pick(frontmatter, 'author.nickname')}\n            </Link>\n          </div>\n          <div className=\"date\">{pick(frontmatter, 'date')}</div>\n          <div className=\"ttr\">{timeToRead}min read</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default class PostPage extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.$content = React.createRef();\n    this.$gallery = React.createRef();\n    this.$disqus = React.createRef();\n  }\n\n  componentDidMount() {\n    const $content = this.$content.current;\n    const $gallery = this.$gallery.current;\n\n    if (!$content || !$gallery) return;\n\n    $gallery.load(Array.from($content.getElementsByTagName('img')));\n  }\n\n  componentWillUnmount() {\n    const $gallery = this.$gallery.current;\n\n    if (!$gallery) return;\n\n    $gallery.destroy();\n  }\n\n  _renderComments = () => {\n    if (typeof window === 'undefined') return null;\n\n    const { data } = this.props;\n    const { post } = data;\n\n    return (\n      <ThemeContext.Consumer>\n        {() => (\n          <ReactDisqusComments\n            ref={this.$disqus}\n            shortname={process.env.GATSBY_DISQUS_SHORTNAME}\n            identifier={post.id}\n            title={pick(post, 'frontmatter.title')}\n            url={window.location.href}\n          >\n            {setTimeout(\n              () =>\n                this.$disqus &&\n                this.$disqus.current &&\n                this.$disqus.current.loadDisqus(),\n              300\n            )}\n          </ReactDisqusComments>\n        )}\n      </ThemeContext.Consumer>\n    );\n  };\n\n  render() {\n    const { data } = this.props;\n    const { post, prevPost, nextPost } = data;\n    const tags = pick(post, 'frontmatter.tags') || [];\n    const series = pick(post, 'frontmatter.series');\n    const headings = pick(post, 'headings') || [];\n\n    return (\n      <Layout\n        className=\"post-page\"\n        autoHidden\n        snakke\n        title={series && <Link to={`/series/${series.id}`}>{series.name}</Link>}\n      >\n        <div className=\"post-page__header\">\n          <div className=\"post-page__header__content\">\n            {tags.length > 0 && (\n              <div className=\"post-page__header__tags\">\n                {tags.map(tag => (\n                  <span key={tag.id}>\n                    <Link to={`/tag/${tag.id}`}>{tag.name}</Link>\n                  </span>\n                ))}\n              </div>\n            )}\n            <div className=\"post-page__header__title\">\n              {pick(post, 'frontmatter.title')}\n            </div>\n            <div className=\"post-page__header__author\">\n              <Link to={`/author/${pick(post, 'frontmatter.author.id')}`}>\n                <img\n                  className=\"avatar\"\n                  src={pick(\n                    post,\n                    'frontmatter.author.avatar.childImageSharp.resize.src'\n                  )}\n                  alt={pick(post, 'frontmatter.author.nickname')}\n                />\n              </Link>\n              <div className=\"content\">\n                <div className=\"nickname\">\n                  <Link to={`/author/${pick(post, 'frontmatter.author.id')}`}>\n                    {pick(post, 'frontmatter.author.nickname')}\n                  </Link>\n                </div>\n                <div className=\"desc\">\n                  <div className=\"date\">{pick(post, 'frontmatter.date')}</div>\n                  <div className=\"ttr\">{pick(post, 'timeToRead')}min read</div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"post-page__header__cover\">\n            <Img\n              fluid={pick(post, 'frontmatter.cover.childImageSharp.fluid')}\n            />\n          </div>\n        </div>\n        <div\n          ref={this.$content}\n          className=\"post-page__content\"\n          dangerouslySetInnerHTML={{ __html: pick(post, 'html') }}\n        />\n        <div className=\"post-page__disqus\">{this._renderComments()}</div>\n        <div data-size=\"normal\" className=\"post-page__footer\">\n          {nextPost && <PostBig post={nextPost} />}\n          {prevPost && <PostBig post={prevPost} />}\n        </div>\n        <div data-size=\"large\" className=\"post-page__footer\">\n          {nextPost && <PostBigInfo {...nextPost} title=\"READ NEXT\" />}\n          {prevPost && (\n            <PostBigInfo {...prevPost} title=\"READ PREV\" reverse={true} />\n          )}\n        </div>\n        <Outline list={headings} />\n        <Gallery ref={this.$gallery} />\n        <Affix />\n      </Layout>\n    );\n  }\n}\n\nexport const query = graphql`\n  fragment PostPageDetail on MarkdownRemark {\n    id\n    fields {\n      slug\n    }\n    excerpt\n    timeToRead\n    frontmatter {\n      title\n      cover {\n        ... on File {\n          childImageSharp {\n            fluid(maxWidth: 1200, maxHeight: 500, cropFocus: CENTER) {\n              ...GatsbyImageSharpFluid\n            }\n          }\n        }\n      }\n      date: date(formatString: \"MMM D\")\n      author {\n        id\n        nickname\n        avatar {\n          ... on File {\n            childImageSharp {\n              resize(width: 80, height: 80, cropFocus: CENTER) {\n                src\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  query PostPageQuery($id: String, $prevSlug: String, $nextSlug: String) {\n    prevPost: markdownRemark(fields: { slug: { eq: $prevSlug } }) {\n      ...PostPageDetail\n    }\n    nextPost: markdownRemark(fields: { slug: { eq: $nextSlug } }) {\n      ...PostPageDetail\n    }\n    post: markdownRemark(id: { eq: $id }) {\n      id\n      fields {\n        slug\n      }\n      html\n      excerpt\n      headings {\n        value\n        depth\n      }\n      timeToRead\n      wordCount {\n        paragraphs\n        sentences\n        words\n      }\n      frontmatter {\n        title\n        cover {\n          ... on File {\n            childImageSharp {\n              fluid(maxWidth: 1200, maxHeight: 500, cropFocus: CENTER) {\n                ...GatsbyImageSharpFluid\n              }\n            }\n          }\n        }\n        date: date(formatString: \"MMM D\")\n        author {\n          id\n          nickname\n          avatar {\n            ... on File {\n              childImageSharp {\n                resize(width: 80, height: 80, cropFocus: CENTER) {\n                  src\n                }\n              }\n            }\n          }\n        }\n        tags {\n          id\n          name\n        }\n        series {\n          id\n          name\n        }\n      }\n    }\n  }\n`;\n"],"sourceRoot":""}
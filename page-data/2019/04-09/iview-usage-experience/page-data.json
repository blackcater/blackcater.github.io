{"componentChunkName":"component---src-templates-post-page-js","path":"/2019/04-09/iview-usage-experience","result":{"data":{"prevPost":{"id":"30f984f2-e95b-5270-8340-3d87b38090cf","fields":{"slug":"/2019/03-01/deploy-your-own-npm-registry"},"excerpt":"当公司到达一定程度，为了提高前端的开发效率，公司内部会创造一系列的框架或者工具库。这些包肯定是不可以暴露到外网之外的，所以你可以搭建一个私有的 npm。如果你们公司较为富有，其实直接用 npm 的企业版也是很不错的。","timeToRead":8,"frontmatter":{"title":"搭建私有npm镜像","cover":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABDklEQVQoz5VSTUtCQRT1l6iLl/qs8M37yPJpGn4U4saVCFFotRFaWBC4KAgU3bVtEfpTT+fGKINkjYvDmbn3vPPOzJ1ELmphg7CJrGYbbLSGR8LcZA3TA43MFq/XpnanofnXQtiARxxxrTRLTdbCVgldNtPRJXpBFVN1iokq4cM7wdiPf/hNnWGsYszY6/vnSFHr/mWYZzNJ0Z1fQZemI7+MR5p1ghreaXIVXOCevSeaDshimLcxHFL8yjQrL8QzP27T8NOL8MLEX6wtCStDuQ+HHId13PBIknShipgz3QPTXrMmuGW9TI1jO2URSlLBIffHOrkJZ98py2XLcTL6mbi6tq5bTfm/B/6bwTa+ActaTpmOpy+iAAAAAElFTkSuQmCC","aspectRatio":2.4,"src":"/static/034e6cdf9b365f259ac282fb9e597878/57599/cover.png","srcSet":"/static/034e6cdf9b365f259ac282fb9e597878/c0acf/cover.png 300w,\n/static/034e6cdf9b365f259ac282fb9e597878/5c50c/cover.png 600w,\n/static/034e6cdf9b365f259ac282fb9e597878/57599/cover.png 1200w","sizes":"(max-width: 1200px) 100vw, 1200px"}}},"date":"Mar 1","author":{"id":"blackcater","nickname":"blackcater","avatar":{"childImageSharp":{"resize":{"src":"/static/3e72cc359750952f52e27f3b2a59a0ff/c0e17/blackcater.png"}}}}}},"nextPost":{"id":"01380e1e-cc50-58c0-83d0-a00b1e92b380","fields":{"slug":"/2019/05-18/let-your-static-page-support-https"},"excerpt":"什么是静态页面？ 在开始正文之前，为了让所有人都能看懂本篇文章，我先讲解一些很基础的知识。如果你对这些都已知晓，请直接看 CloudFire…","timeToRead":8,"frontmatter":{"title":"让你的静态页面支持 https","cover":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAPoAAAD6AG1e1JrAAABUklEQVQY00WQy07CQBSGeSQ3hEtvM70BM52hFIqCDU2qGytgUaRAgyG6IhFdmBgTE5+AuHDhM7jwCVwZX0QPlEjyn+TPmflOzn8yIqKCQrIFPS8YSKOyakl4KxnvPEhEJFvUc6IpISpulAFSVtk4uQmjq70cKSgc6VXVrGHDBgMCY5Qb2LSJ1ZoliyCIinIFkBSuqKWa43ae7uOkzw/3qaI7isosux32R92zMXc8ReN5oXw86A3v4tFtgs2qhBnskoEqyBSrxte7+/sTvj2yEvOj84nnnwyGs+gi6QTd0yj2vDBYHD1/Lxcfc2xxQSIipgBTETPdtFYP9c+Vu0yYpDXqTb9Em5fjeTy9JrxVczuEHrRH/uR1GL30UIUJ8iYzFASAxQTFklSODAcCp1Epb8HySLfhFYS0KjAptj3Yv1ufd/2JpbNAmwvT1EMTtO7gHfwH0hCGvYa0e64AAAAASUVORK5CYII=","aspectRatio":2.4,"src":"/static/2723250560fbecbb676b5db28997150f/57599/cover.png","srcSet":"/static/2723250560fbecbb676b5db28997150f/c0acf/cover.png 300w,\n/static/2723250560fbecbb676b5db28997150f/5c50c/cover.png 600w,\n/static/2723250560fbecbb676b5db28997150f/57599/cover.png 1200w,\n/static/2723250560fbecbb676b5db28997150f/cea64/cover.png 1520w","sizes":"(max-width: 1200px) 100vw, 1200px"}}},"date":"May 18","author":{"id":"blackcater","nickname":"blackcater","avatar":{"childImageSharp":{"resize":{"src":"/static/3e72cc359750952f52e27f3b2a59a0ff/c0e17/blackcater.png"}}}}}},"post":{"id":"9ee666ff-e2fb-51c0-9c9b-d9ca8c073fac","fields":{"slug":"/2019/04-09/iview-usage-experience"},"html":"<blockquote>\n<p>最近开始接触 vue 和 iview。这次将最近使用的经验总结给大家，希望对刚接触 iview 的开发者有一定的帮助。</p>\n</blockquote>\n<h2 id=\"什么是-iview\" style=\"position:relative;\"><a href=\"#%E4%BB%80%E4%B9%88%E6%98%AF-iview\" aria-label=\"什么是 iview permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>什么是 iview</h2>\n<p>iview 是基于 vue 开发的主题框架。其设计理念来源于 <a href=\"https://ant.design/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Ant Design</a>。可以算是 Vue 中的 Ant Design。项目主要是由开发者 <a href=\"https://github.com/icarusion\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">icarusion</a> 进行维护。</p>\n<h2 id=\"iview-介绍\" style=\"position:relative;\"><a href=\"#iview-%E4%BB%8B%E7%BB%8D\" aria-label=\"iview 介绍 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>iview 介绍</h2>\n<h3 id=\"组件\" style=\"position:relative;\"><a href=\"#%E7%BB%84%E4%BB%B6\" aria-label=\"组件 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>组件</h3>\n<p>在 iview 中，一些组件需要同时出现才能起作用：</p>\n<ul>\n<li><code class=\"language-text\">&lt;Select&gt;</code>和<code class=\"language-text\">&lt;Option&gt;</code></li>\n<li><code class=\"language-text\">&lt;Tabs&gt;</code>和<code class=\"language-text\">&lt;TanPane&gt;</code></li>\n<li><code class=\"language-text\">&lt;Form&gt;</code>和<code class=\"language-text\">&lt;FormItem&gt;</code></li>\n<li><code class=\"language-text\">&lt;Collapse&gt;</code>和<code class=\"language-text\">&lt;Pane&gt;</code></li>\n<li><code class=\"language-text\">&lt;Timeline&gt;</code>和<code class=\"language-text\">&lt;TimelineItem&gt;</code></li>\n<li><code class=\"language-text\">&lt;Menu&gt;</code>和<code class=\"language-text\">&lt;MenuItem&gt;</code>,<code class=\"language-text\">&lt;Submenu&gt;</code></li>\n<li><code class=\"language-text\">&lt;DropdownMenu&gt;</code>和<code class=\"language-text\">&lt;DropdownItem&gt;</code></li>\n<li><code class=\"language-text\">&lt;Breadcrumb&gt;</code>和<code class=\"language-text\">&lt;BreadcrumbItem&gt;</code></li>\n<li><code class=\"language-text\">&lt;Steps&gt;</code>和<code class=\"language-text\">&lt;Step&gt;</code></li>\n</ul>\n<p>一些组件成对出现会影响样式和效果等：</p>\n<ul>\n<li><code class=\"language-text\">&lt;ButtonGroup&gt;</code>和<code class=\"language-text\">&lt;Button&gt;</code></li>\n<li><code class=\"language-text\">&lt;RadioGroup&gt;</code>和<code class=\"language-text\">&lt;Radio&gt;</code></li>\n<li><code class=\"language-text\">&lt;CheckboxGroup&gt;</code>和<code class=\"language-text\">&lt;CheckBox&gt;</code></li>\n</ul>\n<p>一些组件是通过方法调用的：</p>\n<ul>\n<li><code class=\"language-text\">$Message</code></li>\n<li><code class=\"language-text\">$Notice</code></li>\n<li><code class=\"language-text\">$Modal</code>或<code class=\"language-text\">&lt;Modal&gt;</code></li>\n<li><code class=\"language-text\">$Loading</code></li>\n</ul>\n<h3 id=\"事件\" style=\"position:relative;\"><a href=\"#%E4%BA%8B%E4%BB%B6\" aria-label=\"事件 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>事件</h3>\n<p>iview 组件暴露的事件，都是以<code class=\"language-text\">on-</code>开头的，比方<code class=\"language-text\">&lt;Select&gt;</code>组件的<code class=\"language-text\">on-change</code>等。</p>\n<p>这些事件，你都可以在官方文档对应组件文档最下面找到。</p>\n<p>所以代码中事件需要写成：</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>select</span> <span class=\"token attr-name\">@on-change</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>() => {}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>select</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h3 id=\"自定义表单组件\" style=\"position:relative;\"><a href=\"#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6\" aria-label=\"自定义表单组件 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>自定义表单组件</h3>\n<p><code class=\"language-text\">iview</code>本身只提供了一些常用的表单组件：<code class=\"language-text\">&lt;Input&gt;</code>，<code class=\"language-text\">&lt;Radio&gt;</code>，<code class=\"language-text\">&lt;Select&gt;</code>等。有时候，我们需要使用封装了业务逻辑的表单。</p>\n<p>在学习 vue 时，我们都知道自定义组件的<code class=\"language-text\">v-model</code>的实现方式是，通过<code class=\"language-text\">value</code>和<code class=\"language-text\">input</code>事件实现（可以自定义）。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// https://github.com/iview/iview/blob/2.0/src/mixins/emitter.js</span>\n<span class=\"token keyword\">import</span> Emitter <span class=\"token keyword\">from</span> <span class=\"token string\">'Emitter'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">'custom-component'</span><span class=\"token punctuation\">,</span>\n\n  mixins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>Emitter<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\n  props<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// value</span>\n    value<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">_onChange</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">val</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// v-model</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'input'</span><span class=\"token punctuation\">,</span> val<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// 符合 iview 自定义事件</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'on-change'</span><span class=\"token punctuation\">,</span> val<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// 自定义 iview 表单组件 必写该行</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'FormItem'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'on-form-change'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>val<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>上面的<code class=\"language-text\">this.dispatch(&#39;FormItem&#39;, &#39;on-form-change&#39;, this.val)</code>可能会让你感到困惑，不过没关系，下一节将会让你弄明白。</p>\n<h2 id=\"iview-组件实现揭秘\" style=\"position:relative;\"><a href=\"#iview-%E7%BB%84%E4%BB%B6%E5%AE%9E%E7%8E%B0%E6%8F%AD%E7%A7%98\" aria-label=\"iview 组件实现揭秘 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>iview 组件实现揭秘</h2>\n<p>为了更好的理解该节，我们以<code class=\"language-text\">&lt;Form&gt;</code>和<code class=\"language-text\">&lt;FormItem&gt;</code>为例来解密组件间的通信：</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- template --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Form</span> <span class=\"token attr-name\">ref</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>form<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">:model</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>formModel<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>FormItem</span> <span class=\"token attr-name\">prop</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>user<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">:rules</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>userRules<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">v-model</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>formModel.user<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Username<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Input</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>FormItem</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>FormItem</span> <span class=\"token attr-name\">prop</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>pass<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">:rules</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>passRules<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>password<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">v-model</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>formModel.pass<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Password<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Input</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>FormItem</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>FormItem</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>primary<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>handleSubmit<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>SUBMIT<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Button</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>FormItem</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Form</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// javascript</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n      formModel<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      userRules<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> required<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> message<span class=\"token operator\">:</span> <span class=\"token string\">'Username cannot be empty'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      passRules<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> required<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> message<span class=\"token operator\">:</span> <span class=\"token string\">'Password cannot be empty'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">handleSubmit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$refs<span class=\"token punctuation\">.</span><span class=\"token function\">validate</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">valid</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>valid<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$Message<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Not valid'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// console. the result</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">dir</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>formModel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>上面是一个简单的表单示例。当你未输入用户名密码，点击<code class=\"language-text\">SUBMIT</code>按钮时，你会看到在对应输入框下会显示出错误提示。</p>\n<p>然而在<code class=\"language-text\">handleSubmit</code>中，我们只调用了<code class=\"language-text\">&lt;Form&gt;</code>组件的<code class=\"language-text\">validate</code>方法。在<code class=\"language-text\">&lt;Form&gt;</code>组件中，<code class=\"language-text\">validate</code>方法调用了<code class=\"language-text\">&lt;FormItem&gt;</code>组件中的<code class=\"language-text\">validate</code>方法。</p>\n<p>这里就有一个疑问了：为什么<code class=\"language-text\">&lt;Form&gt;</code>中可以调用到<code class=\"language-text\">&lt;FormItem&gt;</code>中的<code class=\"language-text\">validate</code>方法呢？</p>\n<p>有些人可能说，这很简单，我们可以在<code class=\"language-text\">&lt;Form&gt;</code>里向下遍历子节点，搜集所有的<code class=\"language-text\">&lt;FormItem&gt;</code>节点。</p>\n<p>这样确实可以，但是很麻烦。<code class=\"language-text\">&lt;Form&gt;</code>下的<code class=\"language-text\">&lt;FormItem&gt;</code>所属层级可能各不相同，从而造成很难遍历完整，且性能低下，如下图：</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 629px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.213036565977745%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA+UlEQVQoz51TSQ6EMAzr//8HiOXCAcGBA/tOMnVER6i0jDSRrLRNahsIKk1TqqqKh2Ggvu/ZBV3jeZ55mibJ2Jvza03jOHLTNKRQ0IS0bRvv+87INtZ1FaKyLLkoCiHD+bIsUkPWezGk4Kyua+66ThrhAg0gAMwl1Nu2hQsRdoWuk4JVNEI5z3MhISI+jkMyCNEDofM8v5dRu+MiFIey8AUeDYSAcWYI7CyExqFRt1XfCO9uH4Q+1b8J4dD1XnyE3neIGcKX86mC0Mwb1jiHuA2EzOHlgN4cGvwIwiSoOI4piiIOgoA02AXdw1mWSU6S5AFw6D+OwzCkD7itVcIbFalUAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Form 下 FormItem 层级各不相同\"\n        title=\"Form 下 FormItem 层级各不相同\"\n        src=\"/static/aca5c8ad79af6b496becf8c49df31d64/171b8/1.png\"\n        srcset=\"/static/aca5c8ad79af6b496becf8c49df31d64/8c2ab/1.png 300w,\n/static/aca5c8ad79af6b496becf8c49df31d64/3f01f/1.png 600w,\n/static/aca5c8ad79af6b496becf8c49df31d64/171b8/1.png 629w\"\n        sizes=\"(max-width: 629px) 100vw, 629px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Form 下 FormItem 层级各不相同</figcaption>\n  </figure></p>\n<p>在<code class=\"language-text\">&lt;Form&gt;</code>组件内部并不是这样的。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Form</span>\n<span class=\"token comment\">// https://github.com/iview/iview/blob/2.0/src/components/form/form.vue</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">'iForm'</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token function\">provide</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> form<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n      fields<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token comment\">// created</span>\n  <span class=\"token function\">created</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'on-form-item-add'</span><span class=\"token punctuation\">,</span> <span class=\"token parameter\">field</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>field<span class=\"token punctuation\">)</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>field<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'on-form-item-remove'</span><span class=\"token punctuation\">,</span> <span class=\"token parameter\">field</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>field<span class=\"token punctuation\">.</span>prop<span class=\"token punctuation\">)</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span>field<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">validate</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">callback</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">/* some code */</span>\n\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">field</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n          <span class=\"token comment\">// call the validate method of &lt;FormItem></span>\n          field<span class=\"token punctuation\">.</span><span class=\"token function\">validate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>在<code class=\"language-text\">&lt;Form&gt;</code>组件创建完毕时，监听了两个事件：<code class=\"language-text\">on-form-item-add</code>用于收集<code class=\"language-text\">&lt;FormItem&gt;</code>对象，从而在后面调用其<code class=\"language-text\">validate</code>方法进行表单验证；<code class=\"language-text\">on-form-item-remove</code>用于移除无用的<code class=\"language-text\">&lt;FormItem&gt;</code>对象。</p>\n<p><code class=\"language-text\">&lt;FormItem&gt;</code>相对较为复杂一点，我将核心代码进行了简化：</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// https://github.com/iview/iview/blob/2.0/src/mixins/emitter.js</span>\n<span class=\"token keyword\">import</span> Emitter <span class=\"token keyword\">from</span> <span class=\"token string\">'Emitter'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">'FormItem'</span><span class=\"token punctuation\">,</span>\n\n  mixins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>Emitter<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\n  inject<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'form'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token function\">mounted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'iForm'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'on-form-item-add'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token function\">beforeDestroy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'iForm'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'on-form-item-remove'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">validate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// some code</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>要理解上面的代码，需要先理解<code class=\"language-text\">Emitter</code>这个 mixin。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// https://github.com/iview/iview/blob/2.0/src/mixins/emitter.js</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">broadcast</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">componentName<span class=\"token punctuation\">,</span> eventName<span class=\"token punctuation\">,</span> params</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$children<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">child</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> name <span class=\"token operator\">=</span> child<span class=\"token punctuation\">.</span>$options<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>name <span class=\"token operator\">===</span> componentName<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      child<span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>eventName<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// todo 如果 params 是空数组，接收到的会是 undefined</span>\n      <span class=\"token function\">broadcast</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>componentName<span class=\"token punctuation\">,</span> eventName<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>params<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 触发父组件监听的一个事件</span>\n    <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">componentName<span class=\"token punctuation\">,</span> eventName<span class=\"token punctuation\">,</span> params</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">let</span> parent <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$parent <span class=\"token operator\">||</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$root<span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">let</span> name <span class=\"token operator\">=</span> parent<span class=\"token punctuation\">.</span>$options<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>parent <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>name <span class=\"token operator\">||</span> name <span class=\"token operator\">!==</span> componentName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        parent <span class=\"token operator\">=</span> parent<span class=\"token punctuation\">.</span>$parent<span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>parent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          name <span class=\"token operator\">=</span> parent<span class=\"token punctuation\">.</span>$options<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>parent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        parent<span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span>parent<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>eventName<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// 触发子组件监听的一个事件</span>\n    <span class=\"token function\">broadcast</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">componentName<span class=\"token punctuation\">,</span> eventName<span class=\"token punctuation\">,</span> params</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">broadcast</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> componentName<span class=\"token punctuation\">,</span> eventName<span class=\"token punctuation\">,</span> params<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">dispatch(componentName, eventName, params)</code>用于触发当前组件父组件<code class=\"language-text\">&lt;componentName&gt;</code>的<code class=\"language-text\">eventName</code>事件，并传参<code class=\"language-text\">params</code>。</p>\n<p><code class=\"language-text\">broadcast(componetName, eventName, params)</code>用于触发当前组件子组件<code class=\"language-text\">&lt;componentName&gt;</code>的<code class=\"language-text\">eventName</code>事件，并传参<code class=\"language-text\">params</code>。</p>\n<p>现在是不是理解了 iview 组件之间的通信方式？很简单对吧！？</p>\n<p>在前面，我提到了创建自定义组件时，需要加上一段<code class=\"language-text\">this.dispatch(&#39;FormItem&#39;, &#39;on-form-change&#39;, this.val)</code>。其实，在<code class=\"language-text\">&lt;FormItem&gt;</code>组件中，就监听了这个事件，在事件监听的回调里，会进行表单的校验。所以，我们需要每次值变化通知<code class=\"language-text\">&lt;FormItem&gt;</code>，从而造成表单的校验。</p>\n<h2 id=\"在-iview-基础之上封装自己的业务组件\" style=\"position:relative;\"><a href=\"#%E5%9C%A8-iview-%E5%9F%BA%E7%A1%80%E4%B9%8B%E4%B8%8A%E5%B0%81%E8%A3%85%E8%87%AA%E5%B7%B1%E7%9A%84%E4%B8%9A%E5%8A%A1%E7%BB%84%E4%BB%B6\" aria-label=\"在 iview 基础之上封装自己的业务组件 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>在 iview 基础之上封装自己的业务组件</h2>\n<p>iView 很像 Ant Design。Ant Design 有一个著名的项目——<a href=\"https://pro.ant.design/index-cn\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Ant Design Pro</a>，基于 Ant Design 封装了一系列高级组件。</p>\n<p>为了让开发更为高效和便捷，我也根据<code class=\"language-text\">Ant Design Pro</code>仿写了一系列的 vue 版本组件。</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 414px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 294.6859903381643%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAA7CAYAAAB7c6ruAAAACXBIWXMAABYlAAAWJQFJUiTwAAAHa0lEQVRYw4VXW3PbZBDNzwEeuHSGJnZsx3bim2zJ1sWSZfkq35OmaZsWmOEHwADDA2+0wwww5Z/wyvDAZYY3yh9Z9uxnObZjqQ/fyHai1dndc86ujj5Y/EG1F79R4fZ3Cr/4lbTP/6Hel//S6Os3FH7zhgZfvZHP02//owerv+md8E96b/oXvTv5S6775+iB+4qO/ZeUDr6nxvw7qi1/IvP6NRlXP5P/7DXVlz+SdfOLfH/o/0Dv2y/pw/ZL+qj9iq+v5Lp9jjLZDJ2kUtTQddIaBnmDEYVXT8huu2Q6beoGPep0A2o0W9TxXVou52SaBqXSJ5TNZSiTPd05R5mzIp3mClQoVahwUSKtaVPL7VLdaFGpqnEgUx5UqtT47xWqaDoV+X9xj9y7dzhggVKZnCBocJDueE7zmxfkB31qd7rU7Q9pPJlSy7Lp45M0Hac5o9MsB8wT7kXg07O7IwHT2TN56jmfesumZrtD1XpDEGp6k1GpzzVGWqvrVOXvhfPSJqgKrD5vEOJGraGTP5rSQhD2uI4eDcOJIOzw93C2oIARD8chB27Qw9Sp3HuHNn+H8IJrVKrWSLfajNBXaPgYpkU61xGIm5YjZdF0g8q1OjXtNtUZyEGEuKHC/9QOhtJlz+9KMCDqD0fkuB0ajCdc0wENRmN5iNtVDDgQ8EzqhNqYXkBeP1RN4pssoY8rJQCaqCkAgevJaUzKKPpFpcqU8SkIF4KobjQlGE7AyJqmLf+bzRc3zUhoisEIDHL7YxrOr8jiIEDXG4bShA7TCETHjadRkL2gmX3aFEtlapgO2d0B6S1TSlBH2hwc9cRD8b/bKR4MKMQ2QOwmE3tGs8e3Uux2x5emBJDjdE7T2VyoYzmO1C4ThxBPKlyUqchHa1pkOJ5qEpMY1MFnvWVJjc/LVTorXhxEt4uwqRAG4ZxWt5+R3+sLwsFoQiMmt+creuwTObmGa4T1liPEFXR8xQGyuM4eRAiO4XSGE1o+/YS6jBDUgUH0mcgWdziSWhLKHekBhWEz79i+KlpdLAxmEBmCMgtDTi5fTEZYXd/oMGXGlzfc5R6ZrFWbnafbG5AtvPREhqhtYkAgBKJyTSOr05O0odUWB4QhQCloGj6jOUD+VmIjnTIfeCG4CFUIN9eBwYAa19hl00CzUjsmm7+fsrY2T4+lN1o8Itv1yPG4KZ4v7m1tUh6Li8N5sgfS3nXsckWkh7RhDEBS1UBu1RSUAanjd6SdTJst6S2evBA/dOUEbBAjchmpzTQK2b17jLI/CslgvUcS3HGbNH8BqTEnQGzdcsVwgQoER32RgZKj+g2sUNMvHy89PBEzZfn0U0VsRgUk0/mCVleP5DvMAkYRslHM+PdcoXi/KelsXp6WP7+gOtfQcDoitwgdambaDv+9RBdMfmV1FTGU2C6jCTqj9AYh29fzDULUaxROBSUywAhAADTykDduSa8qBgvrirqMmoGHsH5QKL83iw+ZxI70wEWn26fR8lr41+I0pY6McoBZzPTBww/54D0eol5lnstKelg9HHEfqATBmzwCkoZTrPTgNCI9DgQiG9wkWBgegIAYncfrMZooPXQSq4jbG4n0MPEMqZ3PCDviMpAeZIeRir8nIoQXgtwgte33BV1tPVMwT6BteCZ2IHQbJXqr9BAEtJlcPSWX04RjAyEo1OfZAtkhONYRNApc3W/SnfRAbJ5mMAesI+g4qBTJDA/Eb5Cn1Jt/h0qigPc2ByU9S8xVzeUeo/SVOfBcHrPcJtOZ8BIzBoR/dP2YDL7vJJNLRqhW4qbUVdVRF5TYJjZ1ZBoBwEEt79dwev1MrMvj7WHA5rBYXsoKh1EwnswELbYI7JOpTO6w9KTLLD2dpx7IDfuPNgaMA5Bcaolxy+hl8hXO4+0LaUU8HK9uRB042GsmjAbca3M9ZQQEamYnjoCydE6T+iFtFB9IcMVa0libBYwCNYQzJRJbvK+itNybLGVhR+dtVw0pNADm6nNdPWZAfzCMDygpS30MUQkWJjgNmgAN43gc9Kx4vlmJj5PG6MYPWXqYy+AiUsP8AFXkTWDLbbZdJxahcmxTVmL4IbSLA4LDsdEUcDBymW108TNlTWykjZqhSbjCWdDVM6YJ/h90OUSZw1OP0xVisznAB9EAmAJMAp9XV9e0WF1K01KZXIxjr+cyZgbe9fBqAWpE73qoY0R8XJE6skmcKdubw/zmubzbQX7YYWYsvYBXOnT4OJ3defmJnXrbuw3IDZlV1tYFcmOLADLl7IYgBwvesn01qIO5fH0rxoA6BSy1MdsWXs0wsPosRdgaTAIM2Jff7pBCV201l4EAyPR1l8FFoARCcBS1TGWy8SnLBstBZS6vHosxoBl448Rgwn4IZDKjZYl3D87oezu25a9X4pYp8sMajNSx28BMVWMyOz4YmzKKbrL0RrOVBIH3ISA4iYB4g9rm3kFiRz9CLcepNFXaATXGlzxHxvIGhcJPpgtZljD8IUOHJQnaJL7ryQ9Z5lXTpZQ/p7Kmdp3q+oomlderHaw/bsf5Hze+sNu6yYpLAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"已实现的组件列表\"\n        title=\"已实现的组件列表\"\n        src=\"/static/3cb20012e661a75226994c1b9f4e173c/6f0a0/2.png\"\n        srcset=\"/static/3cb20012e661a75226994c1b9f4e173c/8c2ab/2.png 300w,\n/static/3cb20012e661a75226994c1b9f4e173c/6f0a0/2.png 414w\"\n        sizes=\"(max-width: 414px) 100vw, 414px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">已实现的组件列表</figcaption>\n  </figure></p>\n<p>下面我对一些组件进行简单说明。</p>\n<h3 id=\"pl-media\" style=\"position:relative;\"><a href=\"#pl-media\" aria-label=\"pl media permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>pl-media</h3>\n<p><code class=\"language-text\">pl-media</code> 是自定义的一个组件，用于监听页面的响应式，从而控制展示样式。其核心代码抽离为了一个项目：<a href=\"https://github.com/blackcater/vue-media-query\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">vue-media-query</a>。</p>\n<h3 id=\"pl-loader\" style=\"position:relative;\"><a href=\"#pl-loader\" aria-label=\"pl loader permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>pl-loader</h3>\n<p><code class=\"language-text\">pl-loader</code> 是实现区域内容加载。核心代码来源于开源项目：<a href=\"https://github.com/egoist/vue-content-loader\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">vue-content-loader</a></p>\n<h3 id=\"pl-form\" style=\"position:relative;\"><a href=\"#pl-form\" aria-label=\"pl form permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>pl-form</h3>\n<p>表单是运营后台开发中最常用的组件之一，<code class=\"language-text\">pl-form</code>是所有自定义组件中的核心组件之一，许多组件都是在<code class=\"language-text\">pl-form</code>基础之上封装而成，或者与<code class=\"language-text\">pl-form</code>有关联。</p>\n<p>iview 在实现表单数据收集，十分的复杂。提升表单收集效率，我们在<code class=\"language-text\">&lt;Form&gt;</code>和<code class=\"language-text\">&lt;FormItem&gt;</code>之上封装了一层。只需要简单的配置，就会自动的渲染出一个表单。</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- template --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>pl-form</span> <span class=\"token attr-name\">:fields</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>fields<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">:fetch</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>login<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>pl-form</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// javascript</span>\n<span class=\"token keyword\">import</span> Emitter <span class=\"token keyword\">from</span> <span class=\"token string\">'Emitter'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Input <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'iview'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> MyOwnPassword <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  props<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    value<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  mixins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>Emitter<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>Input\n        value<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>this<span class=\"token punctuation\">.</span>$attrs<span class=\"token punctuation\">}</span>\n        on<span class=\"token operator\">-</span>on<span class=\"token operator\">-</span>change<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_onChange<span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">_onChange</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">val</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'input'</span><span class=\"token punctuation\">,</span> val<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'on-change'</span><span class=\"token punctuation\">,</span> val<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'FormItem'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'on-form-change'</span><span class=\"token punctuation\">,</span> val<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n      fields<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n          name<span class=\"token operator\">:</span> <span class=\"token string\">'username'</span><span class=\"token punctuation\">,</span>\n          type<span class=\"token operator\">:</span> <span class=\"token string\">'Input'</span><span class=\"token punctuation\">,</span>\n          label<span class=\"token operator\">:</span> <span class=\"token string\">'用户名'</span><span class=\"token punctuation\">,</span>\n          props<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> placeholder<span class=\"token operator\">:</span> <span class=\"token string\">'请输入用户名'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          rules<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> required<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> message<span class=\"token operator\">:</span> <span class=\"token string\">'用户名不能为空'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span>\n          name<span class=\"token operator\">:</span> <span class=\"token string\">'password'</span><span class=\"token punctuation\">,</span>\n          label<span class=\"token operator\">:</span> <span class=\"token string\">'密码'</span><span class=\"token punctuation\">,</span>\n          component<span class=\"token operator\">:</span> MyOwnPassword<span class=\"token punctuation\">,</span>\n          props<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> placeholder<span class=\"token operator\">:</span> <span class=\"token string\">'请输入用户名'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          rules<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> required<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> message<span class=\"token operator\">:</span> <span class=\"token string\">'用户名不能为空'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 登录请求</span>\n    <span class=\"token function\">login</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// data 为由 pl-form 收集到的数据</span>\n\n      <span class=\"token comment\">// $http 为 vue-resource 实例，你也可以使用其他请求库</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$http\n        <span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/oauth2'</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$Message<span class=\"token punctuation\">.</span><span class=\"token function\">success</span><span class=\"token punctuation\">(</span><span class=\"token string\">'登录成功'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$Message<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'登录失败'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>上面就是<code class=\"language-text\">pl-form</code>的简单使用示例。既支持 iview 原生实现的组件，通过<code class=\"language-text\">type</code>指定；也可以支持自定义表单组件，通过<code class=\"language-text\">component</code>指定。</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1200px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 70.703125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAABU0lEQVQ4y41T2W7EMAjM/39Vf6J961ulXtp74wNsKJDgdbLpapFQsI0HM0OGWolrqZxz5iJfIjLPGRgRWU3XtVbbK6W0HMTCGcDOPGeoEqSUxLNd1gJyypfL1QAMUBwBOcQ451TztendwQDmhVe2arRc+wtoY1+9AYJU3u0P9nxvb3pTZ0RdSItvHxug8hZjWvClHmSv+Iu0ZTmPQk0PAEIJACx4bi2v2zqPma8ROBfhGIlBOgghWifOoYJpEY1VLPWBTJTcCG+89PHW+h+OBw+0bW3fq3UErr73Rr3K2oKPzJpsdgXdnwFMQuz3z28TxW0a8in5mXZvLataAjaOwUie/hgR4HziHEaVkilFJhXrAfBtbGzixauOABqoAtbjnvG4Y0JggmSA65ncnEPJ5Jd35NdPmaeKy6TV5UdqN0ASwLevwh8HAaMy80+b3N2JtvHCP2N+VFoicaNVAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"pl-form 示例一\"\n        title=\"pl-form 示例一\"\n        src=\"/static/24216b580e637c113678ce538ef456de/f0628/3.png\"\n        srcset=\"/static/24216b580e637c113678ce538ef456de/8c2ab/3.png 300w,\n/static/24216b580e637c113678ce538ef456de/3f01f/3.png 600w,\n/static/24216b580e637c113678ce538ef456de/f0628/3.png 1200w,\n/static/24216b580e637c113678ce538ef456de/57025/3.png 1800w,\n/static/24216b580e637c113678ce538ef456de/f556b/3.png 2048w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">pl-form 示例一</figcaption>\n  </figure></p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1082px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 73.75231053604435%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAABnUlEQVQ4y51S7U7CMBTllXxF//I1X8JnUH/4w6iRhG0kEJCREBRFPhxR6WjXrj3edoAfiTJtdnJvu/b0ntNb8v0QV9c3aPoBur0eoihCv99H38YioL1RNEC73UalUkHpcTJDNBhidPcArTX+O5SU8DwPJTtJM1ogLk5JwiXWQoHLrBjoTKoMWLJGrVZDaZwAnTHDYBzj9j5Gd7TA4OEF0zeNOQPBbOJPMFgQx3LFc0Jb4WL5ijfG6SaNVGoIgssLwqpbc456vZ4TxvESjNE1MPR9hTH6d2x8F4Lnj2InK8aglHKQZO5HrtxD7UNOKD4qnM7mSMjUlMg4Fy6KNHW51qYQISfJnrchFCJFlmW7DdvcGFO4QktYLm8kTyZTrFYMKVVlzU3W3Ek3zsPf8ZmwWq3mhPbHNhZBRjaoLI+fPdw1tpW4Jd03vm/bzi3hrg+tPEtaBEZnGD5L3IwE7mI6p6TrBkadspP813F4rnFwRJ5dUnmS4WkWu8uc5E6ngyAIEIbhXgSEVivEyYWP49Mmzi59tMLArTcaDXrlMt4B5aNzyk2I9eQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"pl-form 示例二\"\n        title=\"pl-form 示例二\"\n        src=\"/static/5a8a822a01c88a62630a8e8daac32016/2fd86/4.png\"\n        srcset=\"/static/5a8a822a01c88a62630a8e8daac32016/8c2ab/4.png 300w,\n/static/5a8a822a01c88a62630a8e8daac32016/3f01f/4.png 600w,\n/static/5a8a822a01c88a62630a8e8daac32016/2fd86/4.png 1082w\"\n        sizes=\"(max-width: 1082px) 100vw, 1082px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">pl-form 示例二</figcaption>\n  </figure></p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1200px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.04558680892337%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAABqklEQVQ4y4WT224UMQyG5/3fhRfgnlskuKm4QK0qUKGUzszm6Bzmx7+zszuLKohkJY7tL7aTTFkErXWUWlGKSm2oKiLlZs/0cvDRmHYWrl3uyKVhCt6Do56De+8mKWcDc59BKWU7YOhNIzYcR+kwv6mUYgDOdNwBhN/oddeb+W/bdiM8wIBZM6EDS9oDaMhZrsA+9HrO8C0gxYBeS7YSU74p+9hD6sM2Dn0LdgHSofWh7P2jcV8f9eHb/5Ohc1Z/ldF0ZsZsYkqW3a7/Pf6RYcW7z4KPj1GvSfT03dgumY2mX0hXOYP3wewnLh7njjlqoAUDnSDO/TqPLA68A4x2to3vc0q8PUkQve2YBCGmcUHaApabtXSRse9DxHryJsvq4HzA79fVYmsRfdgVE51PzpszQcuyYnERd08eLlU8PKstVyTCFEL7rOI0JgQ9PAZ8e4m4/5WsTdPxBnkpMQQsqeH9V8GLtuHTj4rXpN9g61YesyKQT0g0I2wVd88dH+6ruihwvLHxgAlMWqLPTUEFJ/2fD3OFE/tXBmQ187yaP4G9FXxfGr78HD/pDz5i/B+mkj9qAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"pl-form 示例三\"\n        title=\"pl-form 示例三\"\n        src=\"/static/cd05d4a302a2321f4cd080fd7d9422c1/f0628/5.png\"\n        srcset=\"/static/cd05d4a302a2321f4cd080fd7d9422c1/8c2ab/5.png 300w,\n/static/cd05d4a302a2321f4cd080fd7d9422c1/3f01f/5.png 600w,\n/static/cd05d4a302a2321f4cd080fd7d9422c1/f0628/5.png 1200w,\n/static/cd05d4a302a2321f4cd080fd7d9422c1/57025/5.png 1800w,\n/static/cd05d4a302a2321f4cd080fd7d9422c1/a40ad/5.png 2062w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">pl-form 示例三</figcaption>\n  </figure></p>\n<p>上面示例的实现，都是基于<code class=\"language-text\">pl-form</code>实现的。</p>\n<h2 id=\"总结\" style=\"position:relative;\"><a href=\"#%E6%80%BB%E7%BB%93\" aria-label=\"总结 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>总结</h2>\n<p>iview 很不错，但是实际使用中问题也较多。毕竟该项目不是大企业专门团队在维护。虽然坑多，但不影响其成为一个不错的选择。</p>\n<p>你在怀疑我这句话？不妨看看官方的例子<a href=\"https://github.com/iview/iview-admin\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">iview-admin</a>。</p>","excerpt":"最近开始接触 vue 和 iview。这次将最近使用的经验总结给大家，希望对刚接触 iview 的开发者有一定的帮助。 什么是 iview iview 是基于 vue 开发的主题框架。其设计理念来源于 Ant Design。可以算是 Vue 中的 Ant Design…","headings":[{"value":"什么是 iview","depth":2},{"value":"iview 介绍","depth":2},{"value":"组件","depth":3},{"value":"事件","depth":3},{"value":"自定义表单组件","depth":3},{"value":"iview 组件实现揭秘","depth":2},{"value":"在 iview 基础之上封装自己的业务组件","depth":2},{"value":"pl-media","depth":3},{"value":"pl-loader","depth":3},{"value":"pl-form","depth":3},{"value":"总结","depth":2}],"timeToRead":11,"wordCount":{"paragraphs":70,"sentences":70,"words":238},"frontmatter":{"title":"iview 使用经验总结","cover":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB+0lEQVQoz01SXU9TQRDdpA9EY0TvztXee/tJK1pRSpEYqaLRYoylFNre0lrxm2hQMKJBIgryxCvxwd97nNlpiQ+TnczsnD1zzhpTWoWJFpFI1uAl67CpJijXBV15Drr+Fv70B/gzHzU4l5rr5WLYqAkvWIK9XAddqrt5Y2Y6MJUYiegxLDcp0wYVBzz4Dn7lE+j2Dvz5XRculxr3qDCAV4xBQQPn8k2cKbVgBXCsvAZTHSARLPKLy7D5NdDVl/DLmwzwFf69fdDCAccvkORSkx7fsRN8N1zG2cIKxsqxAhLTHU83MB7Kuiv8ck9Xnd2CX90D3T9EEJ8gaP/l/MDV/MoWqPQGlO+5GQGStR3gSAObXNJmoQ+aEsBt+Hf34DFgpnuCdOePyx3g7BBwQgEFYxRGk4aKGw0NufZatbqzi+DREdJPjpF9eoywdgSa/64M+Y5jKMYk1RAhZTzWwOOilTPbwvkb67zyBmhuB7b6A8HDQ0QMlKr9RvjgJ2v4DVTZdsZYdtvLd+EJy7AxXJmTEaiXbuFisQ87+UKdnN6EvfUZdu6LhjC7+Z7ZveJ1+wzWxoUcyxQ2dZ5xjK6roJZPYWqz/HUKz5yTzqCpDQ3RbXJdtePH7ZCVk21IzJwK+h9Tm1pl0A5/i57+SfnIEvIIr2gzLZXo1IyGznP+D7+fPCp0Q38mAAAAAElFTkSuQmCC","aspectRatio":2.4,"src":"/static/35b03247c4e6d2deedc07b3bf2297ad9/57599/cover.png","srcSet":"/static/35b03247c4e6d2deedc07b3bf2297ad9/c0acf/cover.png 300w,\n/static/35b03247c4e6d2deedc07b3bf2297ad9/5c50c/cover.png 600w,\n/static/35b03247c4e6d2deedc07b3bf2297ad9/57599/cover.png 1200w,\n/static/35b03247c4e6d2deedc07b3bf2297ad9/0035e/cover.png 1800w,\n/static/35b03247c4e6d2deedc07b3bf2297ad9/09c94/cover.png 2400w,\n/static/35b03247c4e6d2deedc07b3bf2297ad9/cffab/cover.png 2870w","sizes":"(max-width: 1200px) 100vw, 1200px"}}},"date":"Apr 9","author":{"id":"blackcater","nickname":"blackcater","avatar":{"childImageSharp":{"resize":{"src":"/static/3e72cc359750952f52e27f3b2a59a0ff/c0e17/blackcater.png"}}}},"tags":[{"id":"vue","name":"Vue"}],"series":null}}},"pageContext":{"id":"9ee666ff-e2fb-51c0-9c9b-d9ca8c073fac","prevSlug":"/2019/03-01/deploy-your-own-npm-registry","nextSlug":"/2019/05-18/let-your-static-page-support-https"}}}